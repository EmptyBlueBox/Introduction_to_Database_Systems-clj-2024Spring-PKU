## 数据库系统简介

### 什么是数据独立性？

**数据独立性：**当数据结构发生变化时，通过系统提供的映象（转换）功能，使应用程序不必改变

- 物理独立性：当数据存储结构发生变化时，使应用程序不必改变
- 逻辑独立性：当数据逻辑结构发生变化时，使应用程序不必改变

### 文件系统在数据管理方面有哪些不足？

**文件系统的不足：**

- 数据定义独立性：数据与程序紧密结合，数据分散管理，数据的语义信息只能由程序来解释，数据共享困难
- 数据完整性独立性：多副本，修改维护困难，不一致性
- 数据操作独立性：数据查询困难（字符流）

### 数据库系统在数据管理方面的特性

**数据库系统在数据管理方面的特性：**

- 面向全组织的数据结构（结构化数据）
- 数据的冗余度小，易扩充（冗余度小、集中管理、易扩充性）
- 数据库的高数据独立性
- 数据库统一的数据控制功能（安全性、完整性、并发、恢复控制）

### 数据模型的概念、种类、特性比较

**数据模型：**

- 概念：是数据库系统中用于提供信息表示和操作手段的形式构架
- 种类：
  - 概念数据模型：按用户的观点来对数据和信息建模
    - ER模型
    - ODL模型
  - 结构数据模型：从计算机实现的观点来对数据建模（三要素：数据结构，数据操作，数据约束条件）
    - 层次模型：树结构，节点代表实体型，连线表示两实体型间的一对多联系（特点：结构简单，易于实现、支持的联系种类太少、数据操纵不方便）
    - 网状模型：有向图（可以有一个以上的节点无父节点，非树），节点代表实体型，有向边（从箭尾到箭头）表示两实体型间的一对多联系（特点：表达的联系种类丰富、性能良好，存取效率高、结构复杂，语言复杂）
    - 关系模型：用二维表来表示实体及其相互联系（特点：简单、非过程化的数据请求、数据独立性高、坚实的理论基础、（曾经的）效率低）
    - 面向对象模型：用嵌套表表示复杂实体

### 数据库模式：三级模式、两级映像

**数据库模式：**

- 三级模式：
  - 外模式
    - 用户的数据视图
    - 数据的局部逻辑结构，模式的子集
  - 模式
    - 所有用户的公共数据视图
    - 数据库中全体数据的全局逻辑结构和特性的描述
  - 内模式
    - 存储模式, 数据的物理结构及存储方式
    - 位置、压缩、分区、合并、索引、列式
- 两级映象：
  - 外模式/模式映象
    - 定义某个外模式和模式之间的对应关系
    - 映象定义通常包含在各外模式中
    - 当模式改变时，修改外模式/模式映象，使外模式保持不变，从而应用程序可以保持不变，称为数据的逻辑独立性
  - 模式/内模式映象
    - 定义数据逻辑结构与存储结构之间的对应关系
    - 存储结构改变时，修改模式/内模式映象，使模式保持不变，从而应用程序可以保持不变，称为数据的物理独立性

### 数据库是如何保证数据独立性的？

1. 把数据库定义和描述从应用程序中分离出去
2. 数据描述是分级的（全局逻辑、局部逻辑、存储）
3. 数据存取由系统管理，用户不必考虑存取路径等细节，从而简化了应用程序（SQL）

### DBMS各项功能、DBA职责

DBMS（Database Management System，数据库管理系统）

DBA（Database Administrator，数据库管理员）是负责数据库管理和维护的专业人员。

数据库管理系统是专门的软件，用于定义、创建、管理和控制数据库。DBMS提供了接口，使用户能够与数据库进行交互，包括数据的插入、查询、更新和删除。它还负责确保数据的一致性、安全性和完整性。常见的DBMS包括MySQL、PostgreSQL、Oracle、SQL Server等。

DBA的职责通常包括数据库的设计、安装、配置、升级、监控、安全、备份和恢复等。DBA在确保数据库系统的高可用性、性能和安全性方面扮演着关键角色。

**DBMS各项功能：**

- 数据定义功能：
  - DDL语言：描述源模式
  - 模式翻译程序：源模式翻译成目标模式存入数据字典
- 数据存取功能：
  - DML语言：对数据库增删查改
  - DML类型：宿主型（嵌入高级语言使用），自含型（独立使用，交互式）
  - DML语句执行方式：宿主型（预编译和增强编译），自含型（解释执行）
- 数据控制功能
  - 数据库运行管理
  - 数据组织存储和管理
  - 数据库建立和维护功能

**DBA的职责：**

- 建库方面
  - 确定模式、外模式、存储结构、存取策略
  - 负责数据的整理和装入
- 用库方面
  - 定义完整性约束条件
  - 规定数据的保密级别、用户权限
  - 监督和控制数据库的运行情况
  - 制定后援和恢复策略，负责故障恢复
- 改进方面
  - 监督分析系统的性能（空间利用率，处理效率）
  - 数据库重组织，物理上重组织，以提高性能
  - 数据库重构造，设计上较大改动，模式和内模式修改

## 实体-联系模型

### 基本概念

#### 实体、联系、属性

实体：客观存在，相互区分

联系：实体之间的相互关联

- 联系也可以有属性，如学生与课程之间有选课联系，每个选课联系都有一个成绩
- 联系的元（Degree）：参与联系的实体集的个数学生选修课程是二元联系，供应商向工程供应零件则是三元联系
- 一些问题：
  - 学生与学生的班长联系是几元联系？1
  - 有时称一元联系为递归联系，道理何在？领导的领导的领导：实体集内部的递归
  - 联系是发生在实体集之间的还是实体型之间的？实体集，比如北大同学和清华同学是两个实体集，但是是同一个实体型，实体集更细化一些

属性：实体所具有的某一特性，可以有多个

- 域（Domain）：属性的取值范围

#### 超码、候选码、主码

#### 联系的种类、联系的势

#### 弱实体、特化、概化、聚集

### E-R图概念模型设计应用实例

### E-R图向关系模式的相互转换



## 关系模型



# 